---
layout: post
title: 3.3 无连接传输：UDP
subtitle: 计网笔记
author: NightSheep
categories: 计网笔记
tags: [笔记,计网]
---
## UDP：用户数据报协议
---

### 概览

- UDP是一种“尽力而为”的服务，报文段可能会：
	- 丢失
	- 乱序
- UDP是**无连接**的：
	- UDP发送端和接收端之间没有握手
	- 每个UDP报文段都被独立地处理
- UDP被用于：
	- 流媒体
	- DNS
	- SNMP
- 在UDP上的可行可靠传输：
	- 在应用层添加可靠性
	- 应用特定的差错恢复
- UDP报文段格式：
![UDP报文段格式](/assets/images/Snipaste_2023-10-23_16-17-09.png)
- UDP的好处
	- 不建立连接，减少延时
	- 简单
	- 报文段头部很小（开销小）
	- 无拥塞控制和流量控制，UDP可以尽可能快的发送报文段
		- 应用->传输的速率=主机->网络的速率

### UDP校验和

**目标**：检测在被传输报文段中的差错 (如比特反转)

- **发送方**：
	- 将报文段的内容视为16比特的整数
	- 校验和：报文段的加法和(1的补运算)
	- 发送方将校验和放在UDP的校验和字段
- **接收方**：
	- 计算接收到的报文段的校验和
	- 计算计算出的校验和与校验和字段的内容是否相等：
		- 不相等：检测到差错
		- 相等：没有检测到差错，但也许还是有差错

### 校验和计算的实际例子

- 当数字相加时，在最高位的进位要回卷，再加到结果上
![例子](/assets/images/Snipaste_2023-10-23_16-27-41.png)
- 目标端：
	- 校验范围+校验和=1111111111111111通过校验
	- 否则没有通过校验