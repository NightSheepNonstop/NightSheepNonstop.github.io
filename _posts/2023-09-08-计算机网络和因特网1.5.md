---
layout: post
title: 1.5 Internet结构和ISP
subtitle: 计网笔记
author: NightSheep
categories: 计网笔记
tags: [笔记,计网]
---
## Internet结构
---

- 端系统通过接入ISPs连接到互联网
	- 住宅，公司，大学的ISPs
- 接入ISPs相应的必须是互联的
	- 因此任何2个端系统可相互发送分组到对方
- 导致的“网络的网络”非常复杂
	- 发展和演化是通过经济的和国家的政策来驱动的

### 松散的层次模型

- 中心：第一层ISP。国家/国际覆盖，速率极高
	- 直接与其他第一层ISP相连
	- 与大量的第二层ISP和其他客户网络相连
- 第二层ISP：更小些的（通常是区域性的）ISP
	- 与一个或多个第一层ISPs相连，也可能与其他第二层ISP相连
- 第三层ISP与其他本地ISP
	- 接入网（与端系统最近）
- 很多内容提供商（ICP）可能会部署自己的网络，连接自己的在各地的DC（数据中心），走自己的数据
	- 连接若干local ISP和各级（包括一层）ISP，更加靠近用户

- 下面这个图片大致体现了互联网的层次结构![互联网层次结构](/assets/images/Snipaste_2023-09-08_16-18-25.png)
	- IXP（*Internet Exchange Point*）因特网交换点

### ISP之间的连接

- POP：高层ISP面向客户网络的接入点，涉及费用结算
	- 如一个低层ISP接入多个高层ISP，多宿（multi home）
- 对等接入：2个ISP对等互接，不涉及费用结算
- IXP：多个对等ISP互联互通之处，通常不涉及费用结算
- ICP自己部署专用网络，同时和各级ISP连接

## 拓展：互联网结构来源
---

目前因特网的结构来源于美国电信公司的运营方式。  

为防止垄断，增加竞争，美国政府把最大的贝尔电话公司拆分成了很多个小贝尔、中贝尔。这些贝尔公司运营业务不一样，有的只能经营州际长途，有的只能经营州内长途，还有的只能经营本地市话，这样拆分后，再加上其他的电信运营商，在每个业务领域，都出现了多家运营商竞争的局面。  

在Internet商业化后，就让拥有州际业务的大电信运营商建设跨州的、全美的主干网络，但是这些电信运营商不能接受直接终端用户的接入。经营州内业务的电信运营商可以建设州内的主干网络，并且为了与其它州的网络相连，可以从多家经营全国业务的运营商中选择一家接入其全美主干网，从而实现与其它州网络的连接。同样一个州内也有多家运营商拥有州内主干网，而且也不能接受终端用户的接入。经营本地业务的电信运营商可以建设本地网络，可以接受终端用户的接入，而且为了让本地用户能够访问州内或者国内任何其它网络，这些本地运营商也需要选择一家州内运营商将本地网络连接到州内主干网。当然，还有一些单位或者机构建设了自己的网络，可以选择性的接入本地网络，为自己的用户提供服务。 

这就构成了四级结构：
1. 第一级：国内主干
2. 第二级：州内主干
3. 第三级：本地网
4. 第四级：最终用户（包括机构网）  

实际上大家可以看到这最终会形成数个全国性的大网络，但是却不能互相访问，为了解决这个问题：联邦政府在全国范围内设了几个机房，装备了一些节点交换机，要求国内主干必须连接到这几个机房的节点交换机上，这就解决了各个大网之间互联互通的问题，这些机房也叫接入点（NAP）
