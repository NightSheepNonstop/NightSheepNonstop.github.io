---
layout: post
title: 前缀和与差分
subtitle: 基础算法
author: NightSheep
categories: 算法笔记
tags: [笔记,算法,c++]
---

## 前缀和

---

### 一维前缀和

定义：$S[i] = a[1]+a[2]+\dots+a[i]$

应用：求区间$[l,r]$的和：$a[l]+\dots+a[r] = S[r] - S[l-1]$

### 二维前缀和

定义：$S[i, j]$ = 第i行j列格子左上部分所有元素的和$S[i-1,j]+S[i,j-1]-S[i-1,j-1]+a[i,j]$

应用：以(x1, y1)为左上角，(x2, y2)为右下角的子矩阵的和为：$S[x2,y2] - S[x1-1,y2] - S[x2,y1-1]+S[x1-1,y1-1]$



## 差分



- 定义：差分数组$b[]$的前缀和数组是原数组$a[]$

### 一维差分

应用：给区间[l, r]中的每个数加上c：$B[l] += c, B[r + 1] -= c$

## 二维差分

应用：给以(x1, y1)为左上角，(x2, y2)为右下角的子矩阵中的所有元素加上c：$B[x1,y1]+=c,B[x2+1,y1]-=c,B[x1,y2+1]-=c,B[x2+1,y2+1]+=c$

